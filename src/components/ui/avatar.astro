---
import { cn } from "@/lib/utils";

interface Props {
  src: string;
  alt: string;
  fallback: string;
  class?: string;
}

const { src, alt, fallback, class: className } = Astro.props;
---

<span class={cn("relative flex shrink-0 overflow-hidden rounded-lg", className)}>
  <img
    class="aspect-square h-full w-full object-cover"
    src={src}
    alt={alt}
    style="object-position: center 30%; scale: 1.1;"
    onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
  />
  <span class="hidden items-center justify-center bg-muted" style="display: none;">
    {fallback}
  </span>
</span>